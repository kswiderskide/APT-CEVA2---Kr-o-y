<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>CEVA2 - Manager v6 (Fixed)</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDEq-AGhrBol0dkthbxNiH9MwSY-BMrD9s&libraries=geometry,directions"></script>
    
    <style>
        :root {
            --bg: #0b1120; --card: #1e293b; --blue: #38bdf8;
            --green: #22c55e; --red: #ef4444; --gold: #fbbf24; --text: #f8fafc;
        }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 6px; display: flex; flex-direction: column; height: 100vh; box-sizing: border-box; overflow: hidden; }
        
        /* BANNER */
        #picker-banner { display: none; position: fixed; top: 0; left: 0; width: 100%; background: var(--gold); color: black; padding: 20px; text-align: center; font-weight: 900; z-index: 40000; font-size: 1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }

        /* UI STARTOWE */
        #start-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .start-btn { width: 180px; height: 180px; border-radius: 50%; background: var(--blue); color: white; border: none; font-size: 2rem; font-weight: 900; box-shadow: 0 0 30px rgba(56, 189, 248, 0.4); }
        .start-gear { position: absolute; bottom: 30px; right: 30px; font-size: 1.5rem; background: var(--card); border: 1px solid #334155; padding: 15px; border-radius: 50%; opacity: 0.6; }

        /* PIN */
        #pin-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 30000; flex-direction: column; justify-content: center; align-items: center; }
        .pin-dots { font-size: 3rem; color: var(--blue); margin-bottom: 20px; height: 50px; }
        .keypad { display: grid; grid-template-columns: repeat(3, 75px); gap: 15px; }
        .key { width: 75px; height: 75px; background: var(--card); border: 1px solid #334155; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.6rem; font-weight: 800; }

        /* PANEL ADMIN */
        #admin-panel { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 20000; padding: 12px; overflow-y: auto; box-sizing: border-box; }
        .edit-row { background: var(--card); border-radius: 10px; padding: 10px; margin-bottom: 10px; border: 1px solid #334155; position: relative; }
        .edit-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 8px; margin-bottom: 5px; }
        .edit-coords { display: grid; grid-template-columns: 1fr 1fr 50px; gap: 8px; }
        .edit-input { background: #0f172a; border: 1px solid var(--blue); color: white; padding: 8px; border-radius:
